Jako starszy programista frontendu Twoim zadaniem jest stworzenie szczeg√≥≈Çowego planu wdro≈ºenia nowego widoku w aplikacji internetowej. Plan ten powinien byƒá kompleksowy i wystarczajƒÖco jasny dla innego programisty frontendowego, aby m√≥g≈Ç poprawnie i wydajnie wdro≈ºyƒá widok.

Najpierw przejrzyj nastƒôpujƒÖce informacje:

1. Product Requirements Document (PRD):
   <prd>
   @.ai/prd.md
   </prd>

2. Opis widoku:
<view_description>
### 2.3. My Campaigns View

**≈öcie≈ºka**: `/campaigns`

**G≈Ç√≥wny cel**: Wy≈õwietlenie listy kampanii u≈ºytkownika i umo≈ºliwienie tworzenia nowych kampanii.

**Kluczowe informacje do wy≈õwietlenia**:

- Grid campaign cards (nazwa, liczba postaci, liczba walk, status aktywnej walki, data ostatniej modyfikacji)
- Mo≈ºliwo≈õƒá edycji nazwy kampanii (inline)
- Mo≈ºliwo≈õƒá usuniƒôcia kampanii
- Tile do tworzenia nowej kampanii
- Empty state dla nowych u≈ºytkownik√≥w

**Kluczowe komponenty widoku**:

- **Header Section**:
    - H1: "My Campaigns"
    - Metadata: "X campaigns" (muted text)
- **Responsive Grid**:
    - 3 kolumny (screen ‚â• 1280px)
    - 2 kolumny (1024px ‚â§ screen < 1280px)
- **Campaign Card** (Shadcn Card):
    - Header: Nazwa kampanii (edytowalna - click ‚Üí inline input), Dropdown menu (Edit Name, Delete)
    - Body: Icon üë§ + "X characters", Icon ‚öîÔ∏è + "X combats", Status badge "Active combat" üî¥ (emerald, je≈õli istnieje)
    - Footer: "Last modified: [date]" (muted), Button "Select Campaign" (emerald, full width)
- **Plus Tile**:
    - Dashed border card, centered icon +, text "Create New Campaign"
    - Hover: emerald glow
    - Click ‚Üí Modal z formularzem (input: campaign name)
- **Empty State**:
    - Icon: folder (du≈ºy, muted)
    - Heading: "You don't have any campaigns yet"
    - Subtext: "Create your first campaign to get started"
    - Button: "Create Campaign" (emerald)

**UX, dostƒôpno≈õƒá i wzglƒôdy bezpiecze≈Ñstwa**:

- **UX**: Skeleton loading states podczas fetch, optimistic UI dla tworzenia kampanii, confirmation modal dla Delete ("This campaign has X active combats. Deleting it will also delete all characters and combats. Are you sure?"), toast notifications (success/error)
- **Accessibility**: ARIA labels dla icon buttons, keyboard navigation dla dropdown menu, focus management w modalach
- **Security**: RLS zapewnia, ≈ºe user widzi tylko swoje kampanie, validation b≈Çƒôd√≥w duplikat√≥w nazw
</view_description>

3. User Stories:
<user_stories>

</user_stories>

4. Endpoint Description:
   <endpoint_description>

### 2.1. Campaigns

#### List User's Campaigns

- **Method**: GET
- **Path**: `/api/campaigns`
- **Description**: Returns all campaigns owned by the authenticated user
- **Query Parameters**:
  - `limit` (optional, number): Maximum number of results (default: 50)
  - `offset` (optional, number): Offset for pagination (default: 0)
- **Request Body**: N/A
- **Response**: 200 OK

```json
{
  "campaigns": [
    {
      "id": "uuid",
      "user_id": "uuid",
      "name": "Lost Mines of Phandelver",
      "created_at": "2025-01-15T10:30:00Z",
      "updated_at": "2025-01-15T10:30:00Z"
    }
  ],
  "total": 1,
  "limit": 50,
  "offset": 0
}
```

- **Error Responses**:
  - 401 Unauthorized: Missing or invalid authentication

#### Create Campaign

- **Method**: POST
- **Path**: `/api/campaigns`
- **Description**: Creates a new campaign for the authenticated user
- **Query Parameters**: N/A
- **Request Body**:

```json
{
  "name": "Curse of Strahd"
}
```

- **Response**: 201 Created

```json
{
  "id": "uuid",
  "user_id": "uuid",
  "name": "Curse of Strahd",
  "created_at": "2025-01-15T14:20:00Z",
  "updated_at": "2025-01-15T14:20:00Z"
}
```

- **Error Responses**:
  - 400 Bad Request: Invalid input (missing name, empty name)
  - 401 Unauthorized: Missing or invalid authentication
  - 409 Conflict: Campaign name already exists for this user

#### Get Campaign

- **Method**: GET
- **Path**: `/api/campaigns/:id`
- **Description**: Returns a single campaign by ID
- **Query Parameters**: N/A
- **Request Body**: N/A
- **Response**: 200 OK

```json
{
  "id": "uuid",
  "user_id": "uuid",
  "name": "Curse of Strahd",
  "created_at": "2025-01-15T14:20:00Z",
  "updated_at": "2025-01-15T14:20:00Z"
}
```

- **Error Responses**:
  - 401 Unauthorized: Missing or invalid authentication
  - 404 Not Found: Campaign does not exist or user doesn't own it

#### Update Campaign

- **Method**: PATCH
- **Path**: `/api/campaigns/:id`
- **Description**: Updates campaign name
- **Query Parameters**: N/A
- **Request Body**:

```json
{
  "name": "Curse of Strahd - Season 2"
}
```

- **Response**: 200 OK

```json
{
  "id": "uuid",
  "user_id": "uuid",
  "name": "Curse of Strahd - Season 2",
  "created_at": "2025-01-15T14:20:00Z",
  "updated_at": "2025-01-16T09:15:00Z"
}
```

- **Error Responses**:
  - 400 Bad Request: Invalid input
  - 401 Unauthorized: Missing or invalid authentication
  - 404 Not Found: Campaign does not exist or user doesn't own it
  - 409 Conflict: New campaign name already exists for this user

#### Delete Campaign

- **Method**: DELETE
- **Path**: `/api/campaigns/:id`
- **Description**: Deletes a campaign and all associated player characters and combats (CASCADE)
- **Query Parameters**: N/A
- **Request Body**: N/A
- **Response**: 204 No Content
- **Error Responses**: - 401 Unauthorized: Missing or invalid authentication - 404 Not Found: Campaign does not exist or user doesn't own it
  </endpoint_description>

5. Endpoint Implementation:
   <endpoint_implementation>
   @src/pages/api/campaigns.ts @src/pages/api/campaigns/[id].ts
   </endpoint_implementation>

6. Type Definitions:
   <type_definitions>
   @src/types.ts
   </type_definitions>

7. Tech Stack:
   <tech_stack>
   @.ai/tech-stack.md
   </tech_stack>

Przed utworzeniem ostatecznego planu wdro≈ºenia przeprowad≈∫ analizƒô i planowanie wewnƒÖtrz tag√≥w <implementation_breakdown> w swoim bloku my≈õlenia. Ta sekcja mo≈ºe byƒá do≈õƒá d≈Çuga, poniewa≈º wa≈ºne jest, aby byƒá dok≈Çadnym.

W swoim podziale implementacji wykonaj nastƒôpujƒÖce kroki:

1. Dla ka≈ºdej sekcji wej≈õciowej (PRD, User Stories, Endpoint Description, Endpoint Implementation, Type Definitions, Tech Stack):

- Podsumuj kluczowe punkty
- Wymie≈Ñ wszelkie wymagania lub ograniczenia
- Zwr√≥ƒá uwagƒô na wszelkie potencjalne wyzwania lub wa≈ºne kwestie

2. Wyodrƒôbnienie i wypisanie kluczowych wymaga≈Ñ z PRD
3. Wypisanie wszystkich potrzebnych g≈Ç√≥wnych komponent√≥w, wraz z kr√≥tkim opisem ich opisu, potrzebnych typ√≥w, obs≈Çugiwanych zdarze≈Ñ i warunk√≥w walidacji
4. Stworzenie wysokopoziomowego diagramu drzewa komponent√≥w
5. Zidentyfikuj wymagane DTO i niestandardowe typy ViewModel dla ka≈ºdego komponentu widoku. Szczeg√≥≈Çowo wyja≈õnij te nowe typy, dzielƒÖc ich pola i powiƒÖzane typy.
6. Zidentyfikuj potencjalne zmienne stanu i niestandardowe hooki, wyja≈õniajƒÖc ich cel i spos√≥b ich u≈ºycia
7. Wymie≈Ñ wymagane wywo≈Çania API i odpowiadajƒÖce im akcje frontendowe
8. Zmapuj ka≈ºdej historii u≈ºytkownika do konkretnych szczeg√≥≈Ç√≥w implementacji, komponent√≥w lub funkcji
9. Wymie≈Ñ interakcje u≈ºytkownika i ich oczekiwane wyniki
10. Wymie≈Ñ warunki wymagane przez API i jak je weryfikowaƒá na poziomie komponent√≥w
11. Zidentyfikuj potencjalne scenariusze b≈Çƒôd√≥w i zasugeruj, jak sobie z nimi poradziƒá
12. Wymie≈Ñ potencjalne wyzwania zwiƒÖzane z wdro≈ºeniem tego widoku i zasugeruj mo≈ºliwe rozwiƒÖzania

Po przeprowadzeniu analizy dostarcz plan wdro≈ºenia w formacie Markdown z nastƒôpujƒÖcymi sekcjami:

1. PrzeglƒÖd: Kr√≥tkie podsumowanie widoku i jego celu.
2. Routing widoku: Okre≈õlenie ≈õcie≈ºki, na kt√≥rej widok powinien byƒá dostƒôpny.
3. Struktura komponent√≥w: Zarys g≈Ç√≥wnych komponent√≥w i ich hierarchii.
4. Szczeg√≥≈Çy komponentu: Dla ka≈ºdego komponentu nale≈ºy opisaƒá:

- Opis komponentu, jego przeznaczenie i z czego siƒô sk≈Çada
- G≈Ç√≥wne elementy HTML i komponenty dzieci, kt√≥re budujƒÖ komponent
- Obs≈Çugiwane zdarzenia
- Warunki walidacji (szczeg√≥≈Çowe warunki, zgodnie z API)
- Typy (DTO i ViewModel) wymagane przez komponent
- Propsy, kt√≥re komponent przyjmuje od rodzica (interfejs komponentu)

5. Typy: Szczeg√≥≈Çowy opis typ√≥w wymaganych do implementacji widoku, w tym dok≈Çadny podzia≈Ç wszelkich nowych typ√≥w lub modeli widoku wed≈Çug p√≥l i typ√≥w.
6. ZarzƒÖdzanie stanem: Szczeg√≥≈Çowy opis sposobu zarzƒÖdzania stanem w widoku, okre≈õlenie, czy wymagany jest customowy hook.
7. Integracja API: Wyja≈õnienie sposobu integracji z dostarczonym punktem ko≈Ñcowym. Precyzyjnie wskazuje typy ≈ºƒÖdania i odpowiedzi.
8. Interakcje u≈ºytkownika: Szczeg√≥≈Çowy opis interakcji u≈ºytkownika i sposobu ich obs≈Çugi.
9. Warunki i walidacja: Opisz jakie warunki sƒÖ weryfikowane przez interfejs, kt√≥rych komponent√≥w dotyczƒÖ i jak wp≈ÇywajƒÖ one na stan interfejsu
10. Obs≈Çuga b≈Çƒôd√≥w: Opis sposobu obs≈Çugi potencjalnych b≈Çƒôd√≥w lub przypadk√≥w brzegowych.
11. Kroki implementacji: Przewodnik krok po kroku dotyczƒÖcy implementacji widoku.

Upewnij siƒô, ≈ºe Tw√≥j plan jest zgodny z PRD, historyjkami u≈ºytkownika i uwzglƒôdnia dostarczony stack technologiczny.

Ostateczne wyniki powinny byƒá w jƒôzyku polskim i zapisane w pliku o nazwie .ai/{view-name}-view-implementation-plan.md. Nie uwzglƒôdniaj ≈ºadnej analizy i planowania w ko≈Ñcowym wyniku.

Oto przyk≈Çad tego, jak powinien wyglƒÖdaƒá plik wyj≈õciowy (tre≈õƒá jest do zastƒÖpienia):

```markdown
# Plan implementacji widoku [Nazwa widoku]

## 1. PrzeglƒÖd

[Kr√≥tki opis widoku i jego celu]

## 2. Routing widoku

[≈öcie≈ºka, na kt√≥rej widok powinien byƒá dostƒôpny]

## 3. Struktura komponent√≥w

[Zarys g≈Ç√≥wnych komponent√≥w i ich hierarchii]

## 4. Szczeg√≥≈Çy komponent√≥w

### [Nazwa komponentu 1]

- Opis komponentu [opis]
- G≈Ç√≥wne elementy: [opis]
- Obs≈Çugiwane interakcje: [lista]
- Obs≈Çugiwana walidacja: [lista, szczeg√≥≈Çowa]
- Typy: [lista]
- Propsy: [lista]

### [Nazwa komponentu 2]

[...]

## 5. Typy

[Szczeg√≥≈Çowy opis wymaganych typ√≥w]

## 6. ZarzƒÖdzanie stanem

[Opis zarzƒÖdzania stanem w widoku]

## 7. Integracja API

[Wyja≈õnienie integracji z dostarczonym endpointem, wskazanie typ√≥w ≈ºƒÖdania i odpowiedzi]

## 8. Interakcje u≈ºytkownika

[Szczeg√≥≈Çowy opis interakcji u≈ºytkownika]

## 9. Warunki i walidacja

[Szczeg√≥≈Çowy opis warunk√≥w i ich walidacji]

## 10. Obs≈Çuga b≈Çƒôd√≥w

[Opis obs≈Çugi potencjalnych b≈Çƒôd√≥w]

## 11. Kroki implementacji

1. [Krok 1]
2. [Krok 2]
3. [...]
```

Rozpocznij analizƒô i planowanie ju≈º teraz. Tw√≥j ostateczny wynik powinien sk≈Çadaƒá siƒô wy≈ÇƒÖcznie z planu wdro≈ºenia w jƒôzyku polskim w formacie markdown, kt√≥ry zapiszesz w pliku .ai/ui-plans/{view-name}-view-implementation-plan.md i nie powinien powielaƒá ani powtarzaƒá ≈ºadnej pracy wykonanej w podziale implementacji.
